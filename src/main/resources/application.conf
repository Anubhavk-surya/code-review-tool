ktor {
    deployment {
        port = 8080
        port = ${?PORT}  # Override from environment variable if available
    }
    
    application {
        modules = [ Application.configureServer ]
    }
}

api {
    gemini {
        baseUrl = "https://generativelanguage.googleapis.com/v1beta/models/"
        apiKey = ${?GEMINI_API_KEY}  # Must be set in environment
        defaultModel = "gemini-2.0-flash"
    }
}

codeReview {
    outputDirectory = "reviewed"  # Directory for reviewed files
    maxFileSizeKb = 500  # Maximum file size to review in KB
    defaultLanguage = "Kotlin"
}
